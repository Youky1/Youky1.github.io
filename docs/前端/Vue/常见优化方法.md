# vue项目中有哪些常见的优化方法

## 1. 代码层面

- 区分使用v-if和v-show

- 区分使用computed和watch

- v-for遍历时必须使用key，并且避免使用v-if

    - v-for的优先级比v-if高，所以会先遍历所有元素然后再隐藏。应该使用一个计算属性完成筛选工作

- 长列表冻结性：对于不需要响应式处理的数据，可以用`Object.freeze`将其冻结，这样该数据将**不是响应式的**，但可以减少组件初始化消耗时间

- 如果在js中` addEventListene `绑定了事件监听，要记得解绑

- **图片懒加载**：

    - 使用`vue-lazyload`插件
    - 在模板中将img标签的src属性换位v-lazy

    ```js
    // main.js
    import VueLazyload from 'vue-lazyload'
    Vue.use(VueLazyload)
    // xx.vue
    <img v-lazy="/static/img/1.png">
    ```

- **路由懒加载**：当路由被访问时才加载相关组件

    ```js
    const Foo = () => import('./Foo.vue')
    const router = new VueRouter({
      routes: [
        { path: '/foo', component: Foo }
      ]
    })
    ```

- 使用**服务端渲染**或**预渲染**




## 2. Webpack层面的优化

- 使用`image-webpack-loader`插件对图片进行压缩
- 使用`babel-plugin-transform-runtime`插件ES6转ES5时的冗余代码
- 提取组件的样式到同一个css文件中。



## 3. 通用的web优化方案

- 开启gzip压缩，需要服务器端和客户端同时支持
- 浏览器缓存。
- 使用CDN





